# Discovery Services
rescan_devices:
  name: Rescan Devices
  description: Trigger a rescan for KKT Kolbe devices on the network (dynamic device discovery)
  fields:
    timeout:
      name: Scan Timeout
      description: How long to scan for devices in seconds
      required: false
      default: 6
      selector:
        number:
          min: 3
          max: 30
          unit_of_measurement: seconds
          mode: slider

# Reconnection and Maintenance Services
reconnect_device:
  name: Reconnect Device
  description: Manually reconnect an offline KKT Kolbe device
  fields:
    device_id:
      name: Device ID
      description: The Tuya device ID (optional if entry_id provided)
      example: "bf1234567890abcdef"
      required: false
      selector:
        text:
    entry_id:
      name: Config Entry ID
      description: The config entry ID (optional if device_id provided)
      example: "1234567890abcdef"
      required: false
      selector:
        text:

update_local_key:
  name: Update Local Key
  description: Update the local key for a KKT Kolbe device when it has been reset or changed in Tuya app
  fields:
    local_key:
      name: New Local Key
      description: The new local key from Tuya/Smart Life app
      example: "1234567890abcdef"
      required: true
      selector:
        text:
    device_id:
      name: Device ID
      description: The Tuya device ID (optional if entry_id provided)
      example: "bf1234567890abcdef"
      required: false
      selector:
        text:
    entry_id:
      name: Config Entry ID
      description: The config entry ID (optional if device_id provided)
      example: "1234567890abcdef"
      required: false
      selector:
        text:
    force_reconnect:
      name: Force Reconnection
      description: Force immediate reconnection after key update
      default: true
      required: false
      selector:
        boolean:
    reload_integration:
      name: Reload Integration
      description: Reload the entire integration for a clean state (slower but more reliable)
      default: false
      required: false
      selector:
        boolean:

get_connection_status:
  name: Get Connection Status
  description: Get the current connection status of KKT Kolbe devices
  fields:
    device_id:
      name: Device ID
      description: The Tuya device ID (optional, returns all if not specified)
      example: "bf1234567890abcdef"
      required: false
      selector:
        text:
    entry_id:
      name: Config Entry ID
      description: The config entry ID (optional, returns all if not specified)
      example: "1234567890abcdef"
      required: false
      selector:
        text:

# Device Control Services
set_cooking_timer:
  name: Set Cooking Timer
  description: Set a cooking timer for a specific cooktop zone
  fields:
    entity_id:
      name: Zone Entity
      description: Cooktop zone timer entity (number domain)
      required: true
      selector:
        entity:
          filter:
            - integration: kkt_kolbe
            - domain: number
    timer_minutes:
      name: Timer Duration
      description: Timer duration in minutes (1-255)
      required: true
      selector:
        number:
          min: 1
          max: 255
          unit_of_measurement: minutes
          mode: box

set_zone_power:
  name: Set Zone Power Level
  description: Set power level for a specific cooktop zone
  fields:
    entity_id:
      name: Zone Entity
      description: Cooktop zone power entity (number domain)
      required: true
      selector:
        entity:
          filter:
            - integration: kkt_kolbe
            - domain: number
    power_level:
      name: Power Level
      description: Power level (0-25, 0 = off)
      required: true
      selector:
        number:
          min: 0
          max: 25
          step: 1
          mode: slider

bulk_power_off:
  name: Bulk Power Off
  description: Turn off all or specific types of KKT Kolbe devices
  fields:
    device_types:
      name: Device Types
      description: Which device types to turn off
      required: false
      default: ["all"]
      selector:
        select:
          options:
            - value: "all"
              label: "All Devices"
            - value: "cooktop"
              label: "Cooktops Only"
            - value: "hood"
              label: "Range Hoods Only"
          multiple: true
          mode: dropdown
    confirm:
      name: Confirm Action
      description: Confirm that you want to turn off devices
      required: true
      default: false
      selector:
        boolean:

sync_all_devices:
  name: Sync All Devices
  description: Force refresh data for all KKT Kolbe devices
  fields:
    device_filter:
      name: Device Filter
      description: Optional filter for specific devices
      required: false
      selector:
        select:
          options:
            - value: "all"
              label: "All Devices"
            - value: "online_only"
              label: "Online Devices Only"
            - value: "offline_only"
              label: "Offline Devices Only"
          mode: dropdown

set_hood_fan_speed:
  name: Set Hood Fan Speed
  description: Set fan speed for KKT Kolbe range hood
  fields:
    entity_id:
      name: Hood Entity
      description: Range hood fan speed entity
      required: true
      selector:
        entity:
          filter:
            - integration: kkt_kolbe
            - domain: number
    fan_speed:
      name: Fan Speed
      description: Fan speed level (0-5, 0 = off)
      required: true
      selector:
        number:
          min: 0
          max: 5
          step: 1
          mode: slider

set_hood_lighting:
  name: Set Hood Lighting
  description: Control range hood lighting
  fields:
    entity_id:
      name: Hood Entity
      description: Range hood lighting entity
      required: true
      selector:
        entity:
          filter:
            - integration: kkt_kolbe
            - domain: switch
    brightness:
      name: Brightness
      description: Light brightness level (1-5), omit to toggle
      required: false
      selector:
        number:
          min: 1
          max: 5
          step: 1
          mode: slider

emergency_stop:
  name: Emergency Stop
  description: Emergency stop all KKT Kolbe cooking operations
  fields:
    confirm:
      name: Confirm Emergency Stop
      description: This will immediately stop all cooking operations
      required: true
      default: false
      selector:
        boolean:
    notification:
      name: Send Notification
      description: Send notification after emergency stop
      required: false
      default: true
      selector:
        boolean:

reset_filter_timer:
  name: Reset Filter Timer
  description: Reset the filter change timer for range hood
  fields:
    entity_id:
      name: Hood Entity
      description: Range hood entity to reset filter timer
      required: true
      selector:
        entity:
          filter:
            - integration: kkt_kolbe
    confirm:
      name: Confirm Reset
      description: Confirm that filter has been changed
      required: true
      default: false
      selector:
        boolean: